# üñ±Ô∏è Click Tracker System

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

            app/
            ‚îú‚îÄ‚îÄ Http/
            ‚îÇ    ‚îú‚îÄ‚îÄ Controllers/
            ‚îÇ    ‚îÇ    ‚îú‚îÄ‚îÄ Api/ClickReceiverController.php
            ‚îÇ    ‚îÇ    ‚îî‚îÄ‚îÄ Admin/SiteController.php
            ‚îÇ    ‚îî‚îÄ‚îÄ Requests/
            ‚îú‚îÄ‚îÄ Models/
            ‚îÇ    ‚îú‚îÄ‚îÄ Site.php
            ‚îÇ    ‚îî‚îÄ‚îÄ Click.php
            ‚îú‚îÄ‚îÄ Repositories/
            ‚îÇ    ‚îú‚îÄ‚îÄ SiteRepository.php
            ‚îÇ    ‚îî‚îÄ‚îÄ ClickRepository.php
            ‚îî‚îÄ‚îÄ Services/
                  ‚îú‚îÄ‚îÄ SiteService.php
                  ‚îî‚îÄ‚îÄ ClickService.php
            database/
                  ‚îî‚îÄ‚îÄ migrations/
                  ‚îú‚îÄ‚îÄ 2025_01_01_000000_create_sites_table.php
                  ‚îî‚îÄ‚îÄ 2025_01_01_000001_create_clicks_table.php
            resources/
            ‚îî‚îÄ‚îÄ views/
                ‚îî‚îÄ‚îÄ admin/
                   ‚îî‚îÄ‚îÄ sites/
                    ‚îú‚îÄ‚îÄ index.blade.php
                    ‚îú‚îÄ‚îÄ create.blade.php
                    ‚îî‚îÄ‚îÄ view.blade.php
            routes/
            ‚îî‚îÄ‚îÄ web.php
 
 ---
 
 ## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### click-tracker.js

–°–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–π —Å–∞–π—Ç.  
–û–Ω —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫–ª–∏–∫–∞—Ö –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ API.

#### –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ **—Ç–æ–∫–µ–Ω–∞ —Å–∞–π—Ç–∞**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∫–ª–∏–∫–∏ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É
- –°–æ–±–∏—Ä–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ)
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç **—Ü–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç** (—Ç–µ–≥ –∏ –∫–ª–∞—Å—Å—ã)
- –§–æ—Ä–º–∏—Ä—É–µ—Ç `payload` —Å –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ API (`/api/clicks`)

#### –°–æ–±–∏—Ä–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (`page_x`, `page_y`, `pct_x`, `pct_y`, `vp_x`, `vp_y`)
- –†–∞–∑–º–µ—Ä—ã –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (`viewport_width`, `viewport_height`)
- –¶–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç (`target`)
- URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`url`)
- –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ (`clicked_at`)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ (`user_agent`)
- –¢–æ–∫–µ–Ω —Å–∞–π—Ç–∞ (`site_token`)

---

### ClickReceiverController

–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–∏—ë–º –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–∫–æ–≤ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

#### –§—É–Ω–∫—Ü–∏–∏:
**–í–∞–ª–∏–¥–∞—Ü–∏—è**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: `site_token`, `url`, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏, URL, –¥–∞—Ç–∞, —á–∏—Å–ª–∞)

**–û–±—Ä–∞–±–æ—Ç–∫–∞**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å `payload` –æ—Ç —Ç—Ä–µ–∫–µ—Ä–∞
- –ü–µ—Ä–µ–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π `ClickService`
- –§–æ—Ä–º–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–û—Ç–≤–µ—Ç—ã API**
- –£—Å–ø–µ—Ö: `201 Created` —Å `{ ok: true }`
- –û—à–∏–±–∫–∞: `403 Forbidden` –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º —Ç–æ–∫–µ–Ω–µ

---

### –ú–æ–¥–µ–ª—å Click

–ú–æ–¥–µ–ª—å, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –æ –∫–ª–∏–∫–∞—Ö.

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:
- `site_id` ‚Äî —Å–≤—è–∑—å —Å —Å–∞–π—Ç–æ–º
- `url` ‚Äî –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `clicked_at` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ Carbon-–¥–∞—Ç–∞)

#### –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:
- `page_x`, `page_y` ‚Äî –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ  
- `pct_x`, `pct_y` ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö  
- `vp_x`, `vp_y` ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ viewport  
- `viewport_width`, `viewport_height` ‚Äî —Ä–∞–∑–º–µ—Ä—ã –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- `target` ‚Äî —Ü–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç (—Ç–µ–≥ –∏ –∫–ª–∞—Å—Å—ã)
- `user_agent` ‚Äî –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `$fillable` –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è
- –ò–º–µ–µ—Ç —Å–≤—è–∑—å `belongsTo(Site::class)`

---

### SiteController

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∞–π—Ç–∞–º–∏ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- **index()** ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤  
- **create()** ‚Äî —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∞–π—Ç–∞  
- **store()** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–∞–π—Ç–∞  
- **view()** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–ª–∏–∫–æ–≤ –ø–æ —Å–∞–π—Ç—É —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –¥–∞—Ç–∞–º

#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–∏—Å—ã `SiteService` –∏ `ClickService`
- –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞—Ç—ã —á–µ—Ä–µ–∑ `Carbon`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–ø–ª–æ–≤–æ–π –∫–∞—Ä—Ç—ã

---

### –ú–æ–¥–µ–ª—å Site

–•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö.

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:
- `name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞  
- `domain` ‚Äî –¥–æ–º–µ–Ω —Å–∞–π—Ç–∞  
- `token` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏  

#### –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞:
- –í `boot()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è 40-—Å–∏–º–≤–æ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω  
  (`Str::random(40)`)

#### –°–≤—è–∑–∏:
- `hasMany(Click::class)` ‚Äî –æ–¥–∏–Ω —Å–∞–π—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–≥–æ –∫–ª–∏–∫–æ–≤

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- `$fillable` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –º–∞—Å—Å–æ–≤–æ–≥–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è
- –¢–æ–∫–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

 
